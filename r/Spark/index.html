<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r/Spark</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&family=Inconsolata:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-left">
                <h1 class="logo">r/Spark</h1>
            </div>
            <div class="nav-right">
                <div id="authSection">
                    <button class="btn-google" id="signInBtn">
                        <svg width="18" height="18" viewBox="0 0 18 18">
                            <path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"/>
                            <path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9 18z"/>
                            <path fill="#FBBC05" d="M3.964 10.71c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9s.348 2.827.957 4.042l3.007-2.332z"/>
                            <path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.485 0 2.44 2.017.96 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z"/>
                        </svg>
                        Sign in with Google
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div class="container main-container">
        <aside class="sidebar">
            <div class="card">
                <h3>Communities</h3>
                <div id="subredditsList"></div>
                <button id="createSubredditBtn" class="btn-create" style="display:none">+ New Community</button>
            </div>
            <div class="card">
                <h3>Sort</h3>
                <div class="sort-buttons">
                    <button class="sort-btn active" data-sort="hot">üî• Hot</button>
                    <button class="sort-btn" data-sort="new">‚ö° New</button>
                    <button class="sort-btn" data-sort="top">‚≠ê Top</button>
                </div>
            </div>
        </aside>

        <main class="feed">
            <div class="feed-header">
                <h2 id="feedTitle">All Posts</h2>
                <button id="createPostBtn" class="btn-create" style="display:none">Create Post</button>
            </div>
            <div id="postsContainer"></div>
        </main>
    </div>

    <!-- Create Subreddit Modal -->
    <div id="subredditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('subredditModal')">&times;</span>
            <h2>Create Community</h2>
            <form id="subredditForm">
                <input type="text" id="subredditName" placeholder="Community name" required>
                <textarea id="subredditDesc" placeholder="Description"></textarea>
                <button type="submit" class="btn-primary">Create</button>
            </form>
        </div>
    </div>

    <!-- Create Post Modal -->
    <div id="postModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('postModal')">&times;</span>
            <h2>Create Post</h2>
            <form id="postForm">
                <select id="postSubreddit" required></select>
                <input type="text" id="postTitle" placeholder="Title" required>
                <textarea id="postContent" placeholder="Text content (optional)" rows="6"></textarea>
                <input type="url" id="postLink" placeholder="Link URL (optional)">
                <input type="url" id="postImage" placeholder="Image URL (optional)">
                <button type="submit" class="btn-primary">Post</button>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
