<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moot Court Brief Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>

<header>
    <div class="logo">Civics Moot Court Brief Generator</div>
    
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <div id="google-signin-container" style="display: flex; align-items: center;">
        <div id="g_id_onload"
             data-client_id="YOUR_GOOGLE_CLIENT_ID_HERE.apps.googleusercontent.com"
             data-context="signin"
             data-ux_mode="popup"
             data-callback="handleCredentialResponse"
             data-auto_prompt="false">
        </div>

        <div class="g_id_signin"
             data-type="standard"
             data-shape="rectangular"
             data-theme="outline"
             data-text="signin_with"
             data-size="medium"
             data-logo_alignment="left">
        </div>
    </div>
</header>

<main class="app-container">
    <nav class="tab-sidebar">
        <button class="tab-btn active" onclick="openTab(event, 'setup')">1. Project Setup</button>
        <button class="tab-btn" onclick="openTab(event, 'cover')">2. Cover Page</button>
        <button class="tab-btn" onclick="openTab(event, 'questions')">3. Questions Presented</button>
        <button class="tab-btn" onclick="openTab(event, 'authorities')">4. Authorities Library</button>
        <button class="tab-btn" onclick="openTab(event, 'argument')">5. Legal Argument</button>
        <button class="tab-btn" onclick="openTab(event, 'review')">6. Finalize & Export</button>
        
        <div class="file-ops">
            <button class="side-action" onclick="exportData()">ðŸ’¾ Save (.civics)</button>
            <button class="side-action" onclick="document.getElementById('importFile').click()">ðŸ“‚ Load</button>
            <input type="file" id="importFile" hidden onchange="importData(event)">
        </div>
    </nav>

    <section class="input-panel">
        <div id="setup" class="tab-content active">
            <h2>Project Setup</h2>
            <label>Document Type:</label>
            <select id="docType" onchange="toggleAmicusFields(); updatePreview();">
                <option value="brief">Petitioner/Respondent Brief</option>
                <option value="amicus">Amicus Curiae Submission</option>
            </select>
            <label>Law Firm / Group Name:</label>
            <input type="text" id="lawFirm" onkeyup="updatePreview()">
            <label>Term Date:</label>
            <input type="text" id="termDate" placeholder="e.g., October Term, 2024" onkeyup="updatePreview()">
            <label>Student Counsel Names:</label>
            <textarea id="studentNames" placeholder="One name per line" onkeyup="updatePreview()"></textarea>
        </div>

        <div id="cover" class="tab-content">
            <h2>Cover Page</h2>
            <label>Docket Number:</label>
            <input type="text" id="docketNumber" onkeyup="updatePreview()">
            <label>Petitioner:</label>
            <input type="text" id="petitionerName" onkeyup="updatePreview()">
            <label>Respondent:</label>
            <input type="text" id="respondentName" onkeyup="updatePreview()">
            <label>Lower Court:</label>
            <input type="text" id="lowerCourt" onkeyup="updatePreview()">
            <div id="amicus-support-div" style="display:none;">
                <label>Amicus Support:</label>
                <select id="amicusSupport" onchange="updatePreview()">
                    <option value="PETITIONER">Petitioner</option>
                    <option value="RESPONDENT">Respondent</option>
                    <option value="NEITHER PARTY">Neither Party</option>
                </select>
            </div>
        </div>

        <div id="questions" class="tab-content">
            <h2>Questions Presented</h2>
            <div id="questions-container"></div>
            <button class="add-btn" onclick="addQuestionField()">+ Add Question</button>
        </div>

        <div id="authorities" class="tab-content">
            <h2>Authorities Library</h2>
            <div id="auth-list-container"></div>
            <div class="auth-adder">
                <select id="new-auth-type">
                    <option value="Cases">Case</option>
                    <option value="Statutes">Statute</option>
                </select>
                <input type="text" id="new-auth-name" placeholder="Name">
                <input type="text" id="new-auth-year" placeholder="Year">
                <button class="add-btn" onclick="registerAuthority()">Add</button>
            </div>
        </div>

        <div id="argument" class="tab-content">
            <h2>Argument</h2>
            <label>Statement of the Case:</label>
            <textarea id="statementOfCase" onkeyup="updatePreview()"></textarea>
            <div id="amicus-interest-div" style="display:none;">
                <label>Interest of Amicus Curiae:</label>
                <textarea id="interestAmicus" onkeyup="updatePreview()"></textarea>
            </div>
            <label>Summary of Argument:</label>
            <textarea id="summaryArgument" onkeyup="updatePreview()"></textarea>
            <div id="argument-sections-container"></div>
            <button class="add-btn" onclick="addArgumentSection('heading')">+ Add Main Point (I)</button>
            <button class="add-btn" onclick="addArgumentSection('subheading')">+ Add Sub-point (A)</button>
        </div>

        <div id="review" class="tab-content">
            <h2>Finalize</h2>
            <label>Conclusion (Call to Action):</label>
            <textarea id="conclusionText" onkeyup="updatePreview()"></textarea>
            <button class="download-btn" onclick="generatePDF()">Download SCOTUS PDF</button>
        </div>
    </section>

    <section class="preview-panel">
        <div id="printable-content" class="paper">
            <div id="preview-content"></div>
        </div>
    </section>
</main>

<footer>
    <a href="tos.html" target="_blank">Terms of Service & Privacy Policy</a> | 8th Grade Social Studies
</footer>

<script src="app.js"></script>
</body>
</html>
