<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Civics Moot Court Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>

<header>
    <div class="logo">Moot Court Brief Generator</div>
    <div id="g_id_onload" data-client_id="YOUR_ID" data-callback="handleCredentialResponse"></div>
    <div class="g_id_signin" data-type="standard"></div>
</header>

<main class="app-container">
    <nav class="tab-sidebar">
        <button class="tab-btn active" onclick="showTab('setup')">1. Setup</button>
        <button class="tab-btn" onclick="showTab('cover')">2. Cover</button>
        <button class="tab-btn" onclick="showTab('questions')">3. Questions</button>
        <button class="tab-btn" onclick="showTab('authorities')">4. Authorities</button>
        <button class="tab-btn" onclick="showTab('argument')">5. Argument</button>
        <button class="tab-btn" onclick="showTab('export')">6. Export</button>
    </nav>

    <section class="input-panel">
        <div id="setup" class="tab-content active">
            <h2>Project Setup</h2>
            <label>Document Type:</label>
            <select id="docType">
                <option value="petitioner">Brief for Petitioner</option>
                <option value="respondent">Brief for Respondent</option>
                <option value="amicus">Amicus Curiae Brief</option>
            </select>
            <label>Law Firm / School Group:</label>
            <input type="text" id="firmName" placeholder="e.g. Madison Law Society">
            <label>Student Counsel Names (one per line):</label>
            <textarea id="studentNames" rows="4"></textarea>
        </div>

        <div id="cover" class="tab-content">
            <h2>Cover Page</h2>
            <label>Docket Number:</label>
            <input type="text" id="docket" placeholder="No. 24-XXXX">
            <label>Petitioner Name:</label>
            <input type="text" id="petitioner">
            <label>Respondent Name:</label>
            <input type="text" id="respondent">
            <label>Lower Court:</label>
            <input type="text" id="lowerCourt" placeholder="e.g. U.S. Court of Appeals for the D.C. Circuit">
            
            <div id="amicus-extras" class="amicus-only">
                <label>Amicus Supporting:</label>
                <select id="amicusSupport">
                    <option value="PETITIONER">Petitioner</option>
                    <option value="RESPONDENT">Respondent</option>
                    <option value="NEITHER PARTY">Neither Party</option>
                </select>
            </div>
        </div>

        <div id="questions" class="tab-content">
            <h2>Questions Presented</h2>
            <div id="questions-list"></div>
            <button class="add-btn" onclick="addQuestion()">+ Add Question</button>
        </div>

        <div id="authorities" class="tab-content">
            <h2>Table of Authorities</h2>
            <div class="auth-box">
                <input type="text" id="authName" placeholder="Case Name (e.g. Roe v. Wade)">
                <input type="text" id="authYear" placeholder="Year" style="width: 80px;">
                <button onclick="addAuthority()">Add</button>
            </div>
            <div id="auth-list"></div>
        </div>

        <div id="argument" class="tab-content">
            <h2>Argument Sections</h2>
            <div id="amicus-interest-box" class="amicus-only">
                <label>Interest of Amicus Curiae:</label>
                <textarea id="interestAmicus" rows="3"></textarea>
            </div>
            <label>Summary of Argument:</label>
            <textarea id="summaryArg" rows="3"></textarea>
            
            <div id="argument-list"></div>
            <div style="display:flex; gap:10px;">
                <button class="add-btn" onclick="addArg('heading')">+ Add Main Point (I, II)</button>
                <button class="add-btn" onclick="addArg('sub')">+ Add Sub-Point (A, B)</button>
            </div>
        </div>

        <div id="export" class="tab-content">
            <h2>Final PDF</h2>
            <label>Conclusion:</label>
            <textarea id="conclusionText" rows="3"></textarea>
            <br>
            <button class="download-btn" onclick="generatePDF()">Download Brief</button>
        </div>
    </section>

    <section class="preview-panel">
        <div id="pdf-container" class="paper">
            <div id="preview-render"></div>
        </div>
    </section>
</main>

<script src="app.js"></script>
</body>
</html>
